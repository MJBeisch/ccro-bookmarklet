var CCROsettings={};function CCROsetCookie(e,t,i,n){var o="";if(i){var C=new Date;"s"==n?i*=1e3:i="m"==n?1e3*i*60:"h"==n?1e3*i*60*60:1e3*i*60*60*24,C.setTime(C.getTime()+i),o="; expires="+C.toUTCString()}document.cookie=e+"="+(encodeURIComponent(t)||"")+o+"; path=/"}function CCROreadCookie(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return null}function CCROexpireCookie(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}function CCROsaveSettings(){CCROsetCookie("CCROsettings",JSON.stringify(CCROsettings),3650)}function CCROopen(){jQuery("head").append('<link rel="stylesheet" type="text/css" href="https://mjbeisch.github.io/ccro-bookmarklet/CCRObookmarklet.min.css">'),CCROreadCookie("CCROsettings")?CCROsettings=JSON.parse(CCROreadCookie("CCROsettings")):(CCROsettings={toggle:1},CCROsaveSettings()),CCROrenderValidationUI()}function CCROclose(){CCROexpireCookie("CCROsettings"),CCROexpireCookie("CCROvalidation"),jQuery(".CCROoverlayui").remove()}function CCROtoggle(){1==CCROsettings.toggle?(CCROsettings.toggle=0,jQuery(".CCROoverlayui").addClass("collapsed"),jQuery(".CCROv-toggle").text("+")):(CCROsettings.toggle=1,jQuery(".CCROoverlayui").removeClass("collapsed"),jQuery(".CCROv-toggle").text("-")),CCROsaveSettings()}function CCROmarkActiveExperiment(e){jQuery("#experiment-"+e);jQuery("#experiment-"+e).addClass("active"),jQuery("#"+e).prop("disabled",!1)}function CCRORenderConvertExperimentList(e){var t=CCROreadCookie("_conv_v"),i=Object.keys(e),n=window.convert.currentData.experiments,o=Object.keys(n),C=0,s=0;if(0<i.length){for(jQuery(".CCROoverlayuicontent").append('<table class="experimentlist"><caption>Convert Experiences Experiment List</caption><thead><tr><th class="experiment-name">Experiment Name</th><th class="variations">Variations</th>\x3c!--<th class="results-link">Results</th>--\x3e</tr></thead><tbody></tbody></table>');C<i.length;++C){for(var a=i[C],r=e[a].n,l=e[a].vars,c=Object.keys(l),d=0,u="";d<c.length;++d){var v=c[d],O=l[v].name;null!=O&&(-1!=t.indexOf(v)?u+='<option value="'+v+'" selected>'+O+"</option>":u+='<option value="'+v+'">'+O+"</option>")}jQuery(".CCROoverlayui .experimentlist").append('<tr id="experiment-'+a+'"><td class="experiment-name"><span class="CCRO-active-circle"></span> '+r+'</td><td class="variations"><select disabled id="'+a+'">'+u+'</select></td>\x3c!--<td class="results-link"><a class="CCROv-button" href="#" target="_blank">View Results</a></td>--\x3e</tr>')}for(;s<o.length;++s)CCROmarkActiveExperiment(o[s]);jQuery(".experimentlist .variations select").change(function(e){var t=jQuery(this).attr("id"),i=jQuery(this).val();window._conv_q=window._conv_q||[],window._conv_q.push(["assignVariation",t,i]),window._conv_q.push(["executeExperiment",t]),window.location.reload(!0)})}else jQuery(".CCROoverlayuicontent").append("<p>There are currently no Convert Experiences experiments built for this site.</p>")}function CCROrenderValidationUI(){var e="";0<window.location.href.indexOf("ccroqc=active")&&CCROsetCookie("CCROvalidation","active",1),CCROreadCookie("CCROvalidation")&&(e="checked"),jQuery(".CCROoverlayui").remove(),jQuery("body").append('<div class="CCROoverlayui"><div class="CCROv-header"><h2>Corvus CRO Experiment Overlay</h2></div><div class="CCROoverlayuiscroll"><div class="CCROoverlayuicontent"></div></div><div class="CCROoverlayOptions"><div class="CCROv-ui-buttons"><button class="CCROv-toggle CCROv-button">-</button><button class="CCROv-close CCROv-button">x</button></div><label class="CCROswitch CCROsetcookie"><input type="checkbox" '+e+'><span class="CCROslider CCROround"></span></label>QC Mode</div></div>'),0==CCROsettings.toggle&&jQuery(".CCROoverlayui").addClass("collapsed"),jQuery(".CCROsetcookie input").change(function(){jQuery(this).is(":checked")?CCROsetCookie("CCROvalidation","active",1):CCROexpireCookie("CCROvalidation"),window.location.reload(!0)}),jQuery(".CCROv-close").click(function(){CCROclose()}),jQuery(".CCROv-toggle").click(function(){CCROtoggle()}),window.convert&&CCRORenderConvertExperimentList(window.convert.data.experiments)}void 0===window.jQuery?function(){var e=document.createElement("SCRIPT");e.src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js",e.type="text/javascript",e.onload=function(){CCROopen()},document.getElementsByTagName("head")[0].appendChild(e)}():CCROopen();